!(function(c,a){function e(g){this.options={id:"",canvasId:"verifyCanvas",width:"100",height:"30",type:"blend",code:""};if(Object.prototype.toString.call(g)=="[object Object]"){for(var h in g){this.options[h]=g[h]}}else{this.options.id=g}this.options.numArr="0,1,2,3,4,5,6,7,8,9".split(",");this.options.letterArr=b();this._init();this.refresh()}e.prototype={version:"1.0.0",_init:function(){var g=a.getElementById(this.options.id);var h=a.createElement("canvas");this.options.width=g.offsetWidth>0?g.offsetWidth:"100";this.options.height=g.offsetHeight>0?g.offsetHeight:"30";h.id=this.options.canvasId;h.width=this.options.width;h.height=this.options.height;h.style.cursor="pointer";h.innerHTML="您的浏览器版本不支持canvas";g.appendChild(h);var i=this;h.onclick=function(){i.refresh()}},refresh:function(){var l=a.getElementById(this.options.canvasId);if(l.getContext){var k=l.getContext("2d")}k.textBaseline="middle";k.fillStyle=f(240,255);k.fillRect(0,0,this.options.width,this.options.height);if(this.options.type=="blend"){var j=this.options.numArr.concat(this.options.letterArr)}else{if(this.options.type=="number"){var j=this.options.numArr}else{var j=this.options.letterArr}}this.options.code="";for(var m=1;m<=4;m++){var h=j[d(0,j.length)];console.log(h);this.options.code+=h;k.font=d(this.options.height/2,this.options.height)+"px SimHei";k.fillStyle=f(50,160);k.shadowOffsetX=d(-3,3);k.shadowOffsetY=d(-3,3);k.shadowBlur=d(-3,3);k.shadowColor="rgba(0, 0, 0, 0.3)";var g=this.options.width/5*m;var o=this.options.height/2;var n=d(-30,30);k.translate(g,o);k.rotate(n*Math.PI/180);k.fillText(h,0,0);k.rotate(-n*Math.PI/180);k.translate(-g,-o)}},validate:function(g){var g=g.toLowerCase();var h=this.options.code.toLowerCase();console.log("v-code"+h);if(g==h){return true}else{return false}}};function b(){var g="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z";return g.split(",")}function d(h,g){return Math.floor(Math.random()*(g-h)+h)}function f(j,i){var l=d(j,i);var k=d(j,i);var h=d(j,i);return"rgb("+l+","+k+","+h+")"}c.GVerify=e})(window,document);